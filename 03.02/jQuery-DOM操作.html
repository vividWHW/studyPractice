<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        ul.todo li span{
            margin-right: 15px;
        }

    </style>
</head>
<body>
    <ul class="todo">
        
    </ul>
    <form action="###">
        <input type="text" name="content" id="content"/>
        <button id="add">add</button>
    </form>

    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/2.2.1/jquery.min.js"></script>
    <script>
        $(function(){
            //用一个数组保存todolist
            var todoList = ['first', 2, 3];
            //获取input
            var qIpt = $('#content')
            //获取ul
            var qUl = $('ul.todo');

            //点击add按钮时
            $('#add').click(function(e){
                //阻止默认事件，即表单提交
                e.preventDefault();
                //获取input的value
                var content = qIpt.val();
                //判断是否输入了内容，即content是否为空
                if(!content){
                    return;
                }
                //输入了内容则将content插入todoList中
                todoList.push(content);
                //生成新li，它的index是插入了新li后的todoList的长度-1
                var newLi = createLi(content, todoList.length - 1);
                //插入ul
                qUl.append(newLi);
                //清空input
                qIpt.val('');
            });

            //点击delete时
            $('ul.todo').click(function(e){
                console.log(e.target)
            });

            //根据content和index生成li
            function createLi(content, index){
                //创建一个li
                var qLi = $('<li></li>');
                //创建一个span，并设置文本的内容为content,再把span插入li
                var qSpan = $('<span></span>');
                qSpan.text(content);
                qLi.append(qSpan);
                //创建一个a
                var qA = $('<a></a>');
                qA.attr('href', '###');
                qA.text('delete');
                //给a设置一个属性保存index
                qA.attr('index', index);
                //把a插入li
                qLi.append(qA);
                //把新li返回
                return qLi;
            }
            
            //初始化：根据todoList生成list
            createList();
            function createList(){
                //遍历todoList，根据文本内容创建新的li
                todoList.forEach(function(content, index){
                    //调用生成li的函数
                    var newLi = createLi(content, index);
                    //把li插入ul
                    qUl.append(newLi);
                });
            }

            //删除todo
        });
    </script>
</body>
</html>